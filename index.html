<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Discord/Open Graph tags -->
<meta property="og:title" content="CoKitty: Raise a virtual cat with friends!" />
<meta property="og:description" content="Feed, play, and watch your pixel cat grow in real-time with a friend!" />
<meta property="og:image" content="https://theskibidirizzlers4-del.github.io/Co-Kitty/cokittylogo.PNG" />
<meta property="og:url" content="https://theskibidirizzlers4-del.github.io/Co-Kitty/" />
<meta property="og:type" content="website" />
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CoKitty</title>
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; background:#0f1220; color:#fff; display:flex; justify-content:center; }
    .app { width: 360px; background:#171a33; border-radius:16px; padding:16px; box-shadow:0 20px 40px rgba(0,0,0,.4); }
    h1 { text-align:center; margin:8px 0 12px; }
    .cat { font-size:96px; text-align:center; }
    .stats { display:grid; grid-template-columns:1fr 1fr; gap:8px; margin:8px 0; }
    .stat { background:#22265a; padding:8px; border-radius:10px; text-align:center; }
    .actions { display:flex; gap:8px; }
    button { flex:1; padding:10px; border-radius:10px; border:none; background:#6cf; color:#001; font-weight:700; }
    button:active { transform: translateY(1px); }
    .room { display:flex; gap:6px; margin-bottom:8px; }
    input { flex:1; padding:8px; border-radius:10px; border:none; }
    .hint { opacity:.8; font-size:12px; margin-top:8px; }
  </style>
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#171a33" />
</head>
<body>
  <div class="app">
    <h1>üê± CoKitty</h1>
    <div class="room">
      <input id="roomId" placeholder="Room ID (share with friend)" />
      <button id="join">Join</button>
    </div>
    <div class="cat" id="cat">üò∫</div>
    <div class="stats">
      <div class="stat">Hunger: <span id="hunger">50</span></div>
      <div class="stat">Happiness: <span id="happy">50</span></div>
    </div>
    <div class="actions">
      <button id="feed">üçó Feed</button>
      <button id="play">üß∂ Play</button>
    </div>
    <div class="hint">By VenusDaCosmic,Two people in the same room share the same cat. Actions sync live.</div>
  </div>

  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

  <script>
    // 1) Create a Firebase project
    // 2) Paste your config below
    const firebaseConfig = {
      apiKey: "AIzaSyC0v6wwT4zZbgBAm6jJfuluBDt86aQ1t0w",
      authDomain: "co-kitty.firebaseapp.com",
      databaseURL: "https://co-kitty-default-rtdb.firebaseio.com",
      projectId: "co-kitty",
      storageBucket: "co-kitty.firebasestorage.app",
      messagingSenderId: "310577092188",
      appId: "1:310577092188:web:5c2776fa2f2f830a247899",
      measurementId: "G-VRCSFQPGGH"
    };

    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    let roomRef = null;

    const hungerEl = document.getElementById('hunger');
    const happyEl = document.getElementById('happy');
    const catEl = document.getElementById('cat');

    function render(state) {
      hungerEl.textContent = state.hunger;
      happyEl.textContent = state.happy;
      catEl.textContent = state.hunger < 30 ? 'üòø' : state.happy > 70 ? 'üò∏' : 'üò∫';
    }

    document.getElementById('join').onclick = () => {
      const id = document.getElementById('roomId').value.trim();
      if (!id) return alert('Enter a room ID');
      roomRef = db.ref('rooms/' + id);

      roomRef.once('value').then(snap => {
        if (!snap.exists()) {
          roomRef.set({ hunger: 50, happy: 50 });
        }
      });

      roomRef.on('value', snap => {
        if (snap.exists()) render(snap.val());
      });
    };

    document.getElementById('feed').onclick = () => {
      if (!roomRef) return;
      roomRef.transaction(s => {
        if (!s) return s;
        s.hunger = Math.min(100, s.hunger + 10);
        return s;
      });
    };

    document.getElementById('play').onclick = () => {
      if (!roomRef) return;
      roomRef.transaction(s => {
        if (!s) return s;
        s.happy = Math.min(100, s.happy + 10);
        s.hunger = Math.max(0, s.hunger - 5);
        return s;
      });
    };

    // Passive decay
    setInterval(() => {
      if (!roomRef) return;
      roomRef.transaction(s => {
        if (!s) return s;
        s.hunger = Math.max(0, s.hunger - 1);
        s.happy = Math.max(0, s.happy - 1);
        return s;
      });
    }, 10000);
  </script>
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('sw.js');
    }
  </script>
</body>
</html>
